<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- делаем экран адаптивным -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- пишем имя веб-сайту -->
    <title>Веб-верстка</title>
    <!-- подключаем таблицу стилей -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!--  -->
    <div class="content">
        <!-- здесь будет карточка с классом .card -->
        <div class="card">
            <!-- передняя сторона карточки - блок .card__front -->
            <div class="card__front">
                <!-- блок с относительным позиционированием, внутри которого изображение и название фильма -->
                <div class="card__poster">
                    <img src="https://www.rabstol.net/uploads/gallery/main/343/rabstol_net_code_geass_16.jpg" alt="" align="center">
                    <div class="card__title">
                        Код Гиас
                    </div>
                </div>
                <!-- блок с описанием фильма и кнопками -->
                <div class="card__item">
                    <div class="card__desc">
                        экшен, 2006
                    </div>
                    <div class="card__btn_yes">Хочу посмотреть</div>
                    <!-- при событии клика мыши - onclick - вызывается функция swipe(1); -->
                    <div class="card__btn_no" onclick="swipe(1);">
                        Не хочу
                    </div>
                </div>
            </div>
            <!-- блок div.card__front закончился -->
            <!-- задняя сторона карточки - блок .card__back -->
            <div class="card__back">
                <div class="card__lubus">
                    <div class="card__lubus_text">
                        я иду за тобой...
                    </div>
                    <img src="image\lubus.png" alt="Изображение">
                    <!-- при событии клика мыши - onclick - вызывается функция swipe(0); -->
                    <div class="card__btn_again" onclick="swipe(0);">
                        ладно, посмотрю
                    </div>
                </div>
            </div>
            <!-- блок div.card__back закончился -->

        </div>
        <!-- блок div.card закончился -->

        <!-- панель карточки - блок div.card__panel -->
        <div class="card__panel" style="display:none;">

            <div class="card__panel_ball">
                <div class="card__panel_value">
                    <div>9.3</div>
                </div>
            </div>

            <a href="https://animego.org/anime/kod-gias-vosstavshiy-lelush-282">
                <div class="card__panel_info">
                    <img src="image\icon\info.svg" alt="">
                </div>
            </a>

            <a href="https://animego.org/anime/kod-gias-vosstavshiy-lelush-282">
                <div class="card__panel_play">
                    <img src="image\icon\play.svg" alt="">
                </div>
            </a>

        </div>
        <!-- блок div.card__panel закончился -->

        <!-- заканчивается блок .content -->
    </div>
    <!-- шапка с идентификатором header -->
    <div id="header">
        Выбор фильма
    </div>
    <!-- подвал с идентификатором footer -->
    <div id="footer">
        iengolab, 2022
    </div>

    <!-- внутри тега <script> можно использовать Javascript -->
    <script>
        // объявляем функцию, именуем ее, в данном случае - swipe()
        // внутри скобок (...) пишем имена входных переменных
        // внутри { ... } пишем алгоритм программы
        function swipe(go) {
            // создаем переменную локального уровня с помощью команды let
            // присваем переменной front объект с селектором ".card__front"
            // то есть команда querySelector ищет элемент с таким классом по всему документу
            let front = document.querySelector('.card__front');
            let back = document.querySelector('.card__back');
            // пишем условие:
            // ЕСЛИ входная переменная go равняется 1, то...
            // внутри { ... } пишем алгоритм программы
            if (go == 1) {
                // обращаемся к элементу, которая задана переменной card__front
                // обращаемся к ее атрибуту style - то есть стилизации
                // и ее свойству transform
                // и изменяем ее на значение, которое пишем после = ,
                // то есть присваиваем некое значение, в данном случае rotateY(180deg)
                front.style.transform = 'rotateY(180deg)';
                back.style.transform = 'rotateY(360deg)';
            }
            // ИНАЧЕ, то есть если входная переменная go НЕ равняется 1, то...
            else {
                front.style.transform = 'rotateY(0deg)';
                back.style.transform = 'rotateY(180deg)';
            }
        }

        function openPanel() {
            let btnYes = document.querySelector('.card__btn_yes');
            let panel = document.querySelector('.card__panel');
            if (btnYes.innerHTML == 'Хочу посмотреть') {
                panel.style.display = "flex";
                setTimeout(
                    function() {
                            panel.style.marginLeft = '36px';
                    }, 100
                );
                btnYes.innerHTML = 'Скрыть панель';
                btnYes.style.color = '#8B8B8B';
                btnYes.style.background = '#C7C7C7';
            } else {
                setTimeout(
                    function() {
                            panel.style.display = 'none';
                    }, 500
                );
                panel.style.marginLeft = '-100px';
                btnYes.innerHTML = 'Хочу посмотреть';
                btnYes.style.color = '#ffffff';
                btnYes.style.background = '#ff6600';
            }
        }

        var btn = document.querySelector('.card__btn_yes');
        btn.onclick = function() {
            openPanel();
        }
    </script>

</body>

</html>
